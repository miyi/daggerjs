<!DOCTYPE html>
<html +loading="{ $: 'hello dagger', item: 123 }">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <link
      rel="icon"
      href="data:image/svg+xml,%3csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3e%3ctext y=%22.9em%22 font-size=%2280%22%3e🗡️%3c/text%3e%3c/svg%3e"
    />
    <!--<link rel="stylesheet" href="css.css" media="print" onload="media = 'all'">-->
    <style>
      [dg-cloak] {
        display: none !important;
      }
    </style>
    <script
      type="module"
      crossorigin="anonymous"
      src="http://localhost:8280/dagger.js"
      defer
    ></script>
    <script type="dagger/options" src="/options.json"></script>
    <script type="dagger/modules" src="/modules.json"></script>
    <script type="dagger/routers" src="/routers.js"></script>
    <title $text="`${ $router.constants.title } demo`">loading...</title>
    <template id="index_template">
      <div id="plain-previous-sibling"></div>
      <div id="plain-wrapper">
        <div id="index" +loading="content">
          <a
            $each#item:slice="array"
            $href="`controllers/${ slice.path }${ slice.query ? `?${ slice.query }` : '' }`"
            $title="`${ slice.path } demo`"
            >${ index + 1 }. ${ slice.path } demo</a
          >
          <br />
        </div>
      </div>
      <div id="plain-next-sibling"></div>
    </template>
    <template id="component">
      <div class="component">${ component }</div>
    </template>
    <template id="prefix">
      <div>
        <template +loading="{ item: 0 }" @slot>hello ${ item }</template>
      </div>
      <div class="prefix-raw">prefix</div>
      <div class="prefix-plain">prefix-${ item }</div>
      <div $class="`prefix-${ item }`">prefix-${ item }</div>
      <suffix
        $each="'string'"
        $exist="true"
        @directive="{ name: '$exist', value: `${ index > 2 }` }"
      ></suffix>
    </template>
    <template id="suffix">
      <div $class="`suffix-${ item }`">suffix-${ item }</div>
    </template>
    <script id="index_test_script" type="dagger/script">
      export const test = () => alert('index_test_script');
    </script>
    <script id="script" type="dagger/script">
      export const clear = () => console.clear();
    </script>
    <style id="root_style" type="dagger/style">
      div {
        color: green;
      }
    </style>
    <style id="index_style" type="dagger/style">
      a {
        --card-height: 65vh;
        display: inline-block;
        padding: 10px;
      }
      div {
        -webkit-background-clip: content-box;
        background-clip: text;
        border: 1px solid red;
      }
    </style>
    <style>
      body {
        display: block !important;
        border: 10px solid blue;
      }
    </style>
  </head>
  <body
    dg-cloak
    +click="console.log('body click bubble', $event.currentTarget)"
    +click#capture="console.log('body click capture', $event.currentTarget)"
  >
    <!--<prefix>
      <template @slot="1">${ item }</template>
    </prefix>-->
    <div $exist="$router.path.includes('newpage')" $html="'newpage'"></div>
    <div +loading="{ state: true }">
      <button +click="state =! state">click</button>
      ${ state }
    </div>
    <a href="/newpage">newpage</a>
    <div style="border: 2px solid black" +click="location.href='/newpage'">
      newpage button
    </div>
    <a href="#@anchor1">anchor1</a>
    <a href="#@anchor2">anchor2</a>
    <a href="#@anchor3">anchor3</a>
    <span class="raw"
      >Please click the following links to see directives demo:</span
    >
    <a $exist="true" href="mailto://dagger8224@gmail.com">mail to author</a>
    <div
      +click#stop="console.log('div click bubble', $event.currentTarget, $event.target)"
    >
      <button
        +click#outside="console.log('button click bubble/outside', $event.currentTarget, $event.target)"
      >
        click
      </button>
      <div
        class="mountPoint1"
        +loading="{ item: 'default-item' }"
        $html#router="$router.constants.template"
      ></div>
      <span>This the end!</span>
    </div>
    <div style="height: 2000px"></div>
    <div id="anchor1">anchor1</div>
    <div name="anchor2">anchor2</div>
    <a name="anchor3">anchor3</a>
  </body>
</html>
